{% extends 'mercurylab/base.html' %}
{% block body_block %}

    <div class="hero-unit">
{#        <a class="btn" href="{% url 'mercurylab:cooperator_add' %}">Create New Cooperator</a><br /><br />#}

        <pre id="console" class="console">Click "Load" to load data from server</pre>
        <div id="grid" data-data="{{ data }}"></div>

        <script>
            $(document).ready(function() {

               var grid = $('#grid');
                var data_data = JSON.parse(grid.attr("data-data"));
                var console = $("#console");
                console.text('Loading data.');
                grid.handsontable({
                    colWidths: [40,120,120,120,120,120,120,120,40,80,60,120],
                    colHeaders: true,
                    contextMenu: true,
                    minSpareRows: 1,
                    data: data_data,
                    columns: [{data: "id"},{data: "name"},{data: "agency"},{data: "email"},{data: "phone"},{data: "sec_phone"},{data: "address"},{data: "city"},{data: "state"},{data: "zipcode"},{data: "country"},{data: "projects"}],
                    columnSorting: { column: 0 }
                });
                grid.data('handsontable').sort(0);
                console.text('Data loaded.');

            });
        </script>

    </div>

{% endblock %}